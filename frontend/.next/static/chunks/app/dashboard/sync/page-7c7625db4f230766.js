(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[976],{6558:function(e,t,n){Promise.resolve().then(n.bind(n,4801))},4801:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ClaudeSyncPanel}});var c=n(7437),s=n(2265),r=n(6702),a=n(732);function ClaudeSyncPanel(){let[e,t]=(0,s.useState)(null),[n,o]=(0,s.useState)(0),[u,i]=(0,s.useState)(null),[d,h]=(0,s.useState)(!1),[f,l]=(0,s.useState)(!1);async function handleSync(){h(!0);try{let e=await (0,r._s)();o(e.synced||0),i("success")}catch(e){i("fail")}finally{t(new Date().toLocaleString()),h(!1)}}return(0,c.jsxs)(a.E.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{onClick:handleSync,disabled:d,className:"bg-primary text-primary-foreground px-4 py-2 rounded",children:d?"Syncing...":"Sync Logs"}),(0,c.jsxs)("label",{className:"flex items-center gap-1 text-sm",children:[(0,c.jsx)("input",{type:"checkbox",checked:f,onChange:()=>l(!f)}),"Cron"]})]}),e&&(0,c.jsxs)("div",{className:"text-sm space-x-2",children:[(0,c.jsxs)("span",{children:["Last sync: ",e]}),(0,c.jsxs)("span",{children:["Ingested: ",n]}),"success"===u&&(0,c.jsx)("span",{className:"px-2 py-1 bg-green-600 text-white rounded",children:"✅"}),"fail"===u&&(0,c.jsx)("span",{className:"px-2 py-1 bg-red-600 text-white rounded",children:"❌"})]})]})}},6702:function(e,t,n){"use strict";n.d(t,{Dh:function(){return fetchDocuments},Ei:function(){return writeMemory},IW:function(){return fetchOpsMetrics},JB:function(){return postMemoryQuery},L3:function(){return fetchRecentTasks},_s:function(){return syncClaudeLogs},gU:function(){return updateDocument},k4:function(){return fetchProductDocs},z:function(){return fetchRecentPosts}});var c=n(2549);function authHeader(){{let e=localStorage.getItem("token");if(e)return{Authorization:"Bearer ".concat(e)}}return{}}async function postMemoryQuery(e){let t=await fetch("".concat(c.S,"/memory/query"),{method:"POST",headers:{"Content-Type":"application/json",...authHeader()},body:JSON.stringify({query:e})});return t.json()}async function syncClaudeLogs(){return fetch("".concat(c.S,"/sync-claude-logs"),{method:"POST",headers:authHeader()}).then(e=>e.json())}async function fetchDocuments(){return fetch("".concat(c.S,"/documents"),{headers:authHeader()}).then(e=>e.json())}async function updateDocument(e,t){return fetch("".concat(c.S,"/memory/update"),{method:"POST",headers:{"Content-Type":"application/json",...authHeader()},body:JSON.stringify({document_id:e,content:t})}).then(e=>e.json())}async function writeMemory(e){return fetch("".concat(c.S,"/memory/write"),{method:"POST",headers:{"Content-Type":"application/json",...authHeader()},body:JSON.stringify(e)}).then(e=>e.json())}async function fetchProductDocs(){return fetch("".concat(c.S,"/memory/query?tags=product&limit=50"),{headers:authHeader()}).then(e=>e.json())}async function fetchOpsMetrics(){return fetch("".concat(c.S,"/dashboard/ops"),{headers:authHeader()}).then(e=>e.json())}async function fetchRecentPosts(){return fetch("".concat(c.S,"/memory/search?limit=5"),{headers:authHeader()}).then(e=>e.json())}async function fetchRecentTasks(){return fetch("".concat(c.S,"/dashboard/tasks"),{headers:authHeader()}).then(e=>e.json())}},2549:function(e,t,n){"use strict";n.d(t,{S:function(){return c}});let c="https://brainops-operator.onrender.com"}},function(e){e.O(0,[600,971,472,744],function(){return e(e.s=6558)}),_N_E=e.O()}]);