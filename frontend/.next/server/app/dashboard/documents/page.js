(()=>{var e={};e.id=88,e.ids=[88],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6072:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>m,tree:()=>c});var s=a(7096),r=a(6132),n=a(7284),o=a.n(n),i=a(2564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(t,d);let c=["",{children:["dashboard",{children:["documents",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3455)),"/home/mwwoodworth/brainstackstudio/fastapi-operator-env/frontend/app/dashboard/documents/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2642)),"/home/mwwoodworth/brainstackstudio/fastapi-operator-env/frontend/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,5345)),"/home/mwwoodworth/brainstackstudio/fastapi-operator-env/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],l=["/home/mwwoodworth/brainstackstudio/fastapi-operator-env/frontend/app/dashboard/documents/page.tsx"],u="/dashboard/documents/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/documents/page",pathname:"/dashboard/documents",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7995:(e,t,a)=>{Promise.resolve().then(a.bind(a,9975))},9975:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>DocumentBrowser});var s=a(784),r=a(9885),n=a(7744),o=a(9139);function DocumentEditor({doc:e,onSaved:t}){let[a,i]=(0,r.useState)(e.content||""),[d,c]=(0,r.useState)(!1),[l,u]=(0,r.useState)(null);async function save(){c(!0);try{await (0,n.gU)(e.id,a),u("saved"),t&&t(e.id,a)}catch(e){u("error")}finally{c(!1)}}return(0,s.jsxs)(o.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"space-y-2 border rounded p-2",children:[s.jsx("textarea",{className:"w-full border rounded p-2 text-sm",rows:8,value:a,onChange:e=>i(e.target.value)}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:save,disabled:d,className:"bg-primary text-primary-foreground px-3 py-1 rounded",children:d?"Saving...":"Save"}),"saved"===l&&s.jsx("span",{className:"text-green-600 text-sm",children:"Saved"}),"error"===l&&s.jsx("span",{className:"text-red-600 text-sm",children:"Error"})]})]})}function DocumentBrowser(){let[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(null),[i,d]=(0,r.useState)(!1);function handleSaved(e,a){t(t=>t.map(t=>t.id===e?{...t,content:a}:t))}return(0,r.useEffect)(()=>{(async function(){d(!0);try{let e=await (0,n.Dh)(),a=e.documents||e.docs||e;t(a)}finally{d(!1)}})()},[]),(0,s.jsxs)("div",{className:"space-y-4",children:[i&&s.jsx("p",{children:"Loading..."}),!i&&s.jsx("ul",{className:"space-y-2",children:e.map(e=>(0,s.jsxs)("li",{className:"border rounded",children:[(0,s.jsxs)("button",{className:"w-full text-left p-2 font-semibold",onClick:()=>o(a===e.id?null:e.id),children:[e.title," ",s.jsx("span",{className:"opacity-60 text-xs",children:e.project_id})]}),a===e.id&&s.jsx(DocumentEditor,{doc:e,onSaved:handleSaved})]},e.id))})]})}},3455:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>DocumentsPage});var s=a(4656);a(3542);var r=a(5153);let n=(0,r.createProxy)(String.raw`/home/mwwoodworth/brainstackstudio/fastapi-operator-env/frontend/components/DocumentBrowser.tsx`),{__esModule:o,$$typeof:i}=n,d=n.default;function DocumentsPage(){return(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Documents"}),s.jsx(d,{})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[570,124,926,181,744],()=>__webpack_exec__(6072));module.exports=a})();